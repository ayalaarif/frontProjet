<!-- <!DOCTYPE html>
<html>

<head>
    <title>Bulletin</title>
</head>

<body> -->
    <!-- <div class="row" > -->
        <div class="input-field col s12" style="margin: 1%;" >
            <i class="waves-effect waves-light btn-large waves-input-wrapper"><input
                 (click)="makePDF()"   type="submit" value="Télécharger" class="waves-button-input"></i>
        </div>
    <!-- </div> -->
   
    <div  id="pdf" #pdf>
    <h2 style="text-align:center;">Bulletin scolaire</h2>
    <!-- <br/> -->
    <div class="lig">
        <!-- <h4><img src="assets/images/logo.png" alt=""></h4> -->
        <h4>ProEducation</h4>
         <h4 style="margin-left:7%;">  {{bulletin[0].session_scolaire.nom}}</h4>
        <h4>Année scolaire:{{bulletin[0].session_scolaire.annee_scolaire.annee}}</h4> 
    </div>
    
    <div style="border: 1px solid  #555;margin-left: 1%;margin-right: 1%;margin-bottom: 1%;">
        <span style="display: flex; flex-direction: row;  justify-content: space-evenly;">
            <h4 > Nom et prénom: {{bulletin[0].eleve.nom}}  {{bulletin[0].eleve.prenom}} </h4>
            <h4 style="text-align: right;">Date et lieu de naisseance: Né le {{bulletin[0].eleve.dateNais}} à {{bulletin[0].eleve.lieuNais}}</h4>
        </span>
        <span style="display: flex; flex-direction: row;  justify-content: space-evenly">
            <h4 style="text-align: center;">Groupe: {{bulletin[0].groupe.niveau.libelle}} {{bulletin[0].groupe.num}} </h4>
            <h4 style="text-align: center;">Effectif: {{bulletin[0].groupe.eleves_count}} </h4>
            <h4> Matricule : {{bulletin[0].eleve.matricule}} </h4>
        </span>
        <!-- <div class="table-responsive table-desi"> -->
        <table  >
            <thead style="  background-color: #e4e4e4; " >
                <th><strong>Matières</strong></th>
                <th><strong>Coeff</strong></th>
                <th><strong>Oral</strong></th>
                <th><strong>TP</strong></th>
                <th colspan="2"><strong>Contrôles</strong></th>
                <th><strong>Synthèse</strong></th>
                <th><strong>Moyenne</strong></th>
                <th><strong>Rang</strong></th>
                <th><strong>Total</strong></th>
            </thead>
            <tbody>
                <tr *ngFor="let moyMatiere of bulletin[0].moy_matieres; let i=index;">
                    <td ><strong>{{moyMatiere.matiere.libelle}}</strong></td>
                    <td >{{moyMatiere.coef}}</td>
                    <td>
                        <ng-container *ngIf="examen('Oral',moyMatiere.matiere_id);else ElseOral">
                                      {{examen('Oral',moyMatiere.matiere_id).note}}
                        </ng-container>
                        <ng-template #ElseOral>
                            --.--
                        </ng-template>
                    </td>
                     <td> 
                         <ng-container *ngIf="examen('TP',moyMatiere.matiere_id);else ElseTp">
                        {{examen('TP',moyMatiere.matiere_id).note}}
                         </ng-container>
                       <ng-template #ElseTp>
                             --.--
                       </ng-template> 
                    </td>
                    <td >
                        <ng-container *ngIf="controle(moyMatiere.matiere_id,1);else ElseTp">
                            {{controle(moyMatiere.matiere_id,1).note}}
                             </ng-container>
                           <ng-template #ElseTp>
                                 --.--
                           </ng-template> 
                    </td>
                    <td >
                        <ng-container *ngIf="controle(moyMatiere.matiere_id,2);else ElseTp">
                            {{controle(moyMatiere.matiere_id,2).note}}
                             </ng-container>
                           <ng-template #ElseTp>
                                 --.--
                           </ng-template> 
                    </td>
                    <td >    <ng-container *ngIf="examen('Synthèse',moyMatiere.matiere_id);else ElseSynthese">
                        {{examen('Synthèse',moyMatiere.matiere_id).note}}
                         </ng-container>
                        <ng-template #ElseSynthese>
                           --.--
                       </ng-template></td>
                    <td >{{moyMatiere.moy}}</td>
                    <td >{{moyMatiere.rang}}</td>
                    <td >{{moyMatiere.total}}</td>

                </tr>

              
                <tr style="  background-color: #e4e4e4; ">
                    <td ><strong>Total</strong></td>
                    <td ><strong>{{bulletin[0].totalCoef}}</strong></td>
                    <td colspan="7" ></td>
                    <td ><strong>{{bulletin[0].total}}</strong></td>
                </tr>
            </tbody>

        </table>
       
        <br>

        <!-- <div class="table-responsive table-desi"> -->
            <!-- <table class="table table-hover" > -->
                <table>
            <thead style="  background-color: #e4e4e4; ">
              
                <th colspan="4"><strong>Résultats</strong></th>
                <th colspan="3"><strong>Sanctions</strong></th>
                <th colspan="2"><strong>Présence</strong></th>

            </thead>
            <tr style="background-color: #e4e4e4; ">
                <td><strong>Période</strong></td>
                <td><strong>Moy</strong></td>
                <td><strong>Rang</strong></td>
                <td><strong>Mentions</strong></td>


                <td><strong>Avertissement</strong></td>
                <td><strong>Exclusion</strong></td>
                <td><strong>Conseil</strong></td>

                <td><strong>Absence</strong></td>
                <td><strong>Retard</strong></td>

            </tr>
            <ng-container *ngIf="indexSession>0">
                <ng-container *ngFor="let session of sessions; let i=index;">
                <tr *ngIf="i<indexSession">

                 <td>{{session.nom}}</td>
                <td>{{session.bulletins[0].moy}}</td>
                <td>{{session.bulletins[0].rang}}</td>
                <td>{{session.bulletins[0].mention}}</td>


                <td>
                   
                </td>
                <td>
                   
                </td>
                <td>
                    
                </td>

                <td>
                   
                </td>
                <td> 
                </tr>
            </ng-container>
            </ng-container>
            <tr>
                <td>{{bulletin[0].session_scolaire.nom}}</td>
                <td>{{bulletin[0].moy}}</td>
                <td>{{bulletin[0].rang}}</td>
                <td>{{bulletin[0].mention}}</td>


                <td>
                    <ng-container *ngIf="bulletin.avertissement>0">
                    {{bulletin.avertissement}}
                    </ng-container>
                </td>
                <td>
                    <ng-container *ngIf="bulletin.exclusion>0">
                    {{bulletin.exclusion}}
                    </ng-container>
                </td>
                <td>
                    <ng-container *ngIf="bulletin.exclusionTemporaire.length>0">
                        <ng-container *ngFor="let ex of bulletin.exclusionTemporaire; let i=index;">
                            exclusionTemporaire de {{ex.nbrJours}}
                        </ng-container>
                       
                    </ng-container>
                    
                    <ng-container *ngIf="bulletin.exclusionD==1">
                      
                            Exclusion définitive
                      
                       
                    </ng-container>
                </td>

                <td>
                    <ng-container *ngIf="bulletin.absence>0">
                    {{bulletin.absence}} heures
                    </ng-container>
                </td>
                <td> <ng-container *ngIf="bulletin.retard>0">
                    {{bulletin.retard}}
                     </ng-container>
                    </td>

            </tr>
           

        </table>
    </div>
</div>




        <!-- </div> -->
    <!-- </div> -->

<!-- </body>

</html> -->